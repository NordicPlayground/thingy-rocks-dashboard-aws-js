class Device{constructor(e){this.id=e.id,this.properties=this.getProperties(e),this.getGPSData()}getProperties(e){var t={connected:"disconnected",name:e.name},s=!!e.state.reported.connected,a=e.state.reported.connection&&"connected"===e.state.reported.connection.status;return(s||a)&&(t.connected="connected"),t}getGPSData(){var e=getAjaxSettings("https://api.nrfcloud.com/v1/messages?inclusiveStart=2018-06-18T19%3A19%3A45.902Z&exclusiveEnd=3000-06-20T19%3A19%3A45.902Z&deviceIdentifiers="+this.id+"&pageLimit=1&pageSort=desc&appId=GPS",!1),t=this;$.ajax(e).done(function(e){if(void 0!==e.items[0].message.data){var s=e.items[0].message.data,a=s.split(","),i=parseFloat(a[2].substr(a[2].indexOf(".")-2))/60+parseFloat(a[2].substr(0,a[2].indexOf(".")-2)),n=i*("N"==a[3]?1:-1),r=i.toFixed(3),o=(parseFloat(a[4].substr(a[4].indexOf(".")-2))/60+parseFloat(a[4].substr(0,a[4].indexOf(".")-2)))*("E"==a[5]?1:-1),d=o.toFixed(3),c=r+"° "+a[3]+", "+d+"° "+a[5],p={lat:n,lng:o,readable:c};return t.position=[p.lat,p.lng],t.gps=p,t}p={lat:n,lng:o,readable:c};return t.position=[p.lat,s.lng],t.gps=p,t})}}